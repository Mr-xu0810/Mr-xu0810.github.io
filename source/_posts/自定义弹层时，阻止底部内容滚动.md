---
title: 自定义弹层时，阻止底部内容滚动
date: 2021-05-19 13:15:02
author: Mr-xu
img: /images/3.jpg
top: false
cover: false
summary: 自定义弹层时，阻止弹层底部内容滚动处理
categories: 自定义
tags:
  - 兼容
---

# 自定义弹层时，阻止弹层底部内容滚动处理

>在进行自定义弹层时，pc或者移动端在弹层上进行滚动或滑动时，底部内容超过一屏的时候，也会进行滚动，体验不佳

### 处理方式
  + 移动端
    自定义弹层时，阻止弹层下内容滚动,在蒙版及弹层最外层上进行触摸事件的处理
    ``` javascript
    @touchmove.stop.prevent="moveHandle"

    moveHandle() {
      return;
    }
    ```
  + pc端
    在web端处理，则需要在弹层开启时，设置body属性即可,限制内容只展示一个屏幕，这样在鼠标进行滚动时就不会引起底部内容的滚动
    ``` javascript
      let dom = document.body || document.documentElement;
      dom.style.height = '100vh'; 
      dom.style.overflow = 'hidden';
    ```
  + 兼容处理
    记录当前的高度（var scrollTop = document.body.scrollTop || document.documentElement.scrollTop），内容设置position：fixed ，并移动到对应位置 (设置 top = scrollTop)，关闭弹层时取消position的设置