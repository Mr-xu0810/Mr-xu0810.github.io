<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>echarts记录</title>
      <link href="2021/12/15/echarts-ji-lu/"/>
      <url>2021/12/15/echarts-ji-lu/</url>
      
        <content type="html"><![CDATA[<h1 id="echarts-记录"><a href="#echarts-记录" class="headerlink" title="echarts 记录"></a>echarts 记录</h1><h2 id="echarts饼图设定每个扇形的颜色"><a href="#echarts饼图设定每个扇形的颜色" class="headerlink" title="echarts饼图设定每个扇形的颜色"></a>echarts饼图设定每个扇形的颜色</h2><h5 id="data数据中加入itemStyle"><a href="#data数据中加入itemStyle" class="headerlink" title="data数据中加入itemStyle"></a>data数据中加入itemStyle</h5><p>exp: option配置</p><pre class=" language-json"><code class="language-json"> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> '测试'<span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">1212</span><span class="token punctuation">,</span> itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span> color<span class="token operator">:</span> '#ff0000' <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><h5 id="不在data中加入-series里加入itemStyle-："><a href="#不在data中加入-series里加入itemStyle-：" class="headerlink" title="不在data中加入( series里加入itemStyle )："></a>不在data中加入( series里加入itemStyle )：</h5><p>exp: option配置</p><pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'task'</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">'pie'</span>，radius<span class="token punctuation">:</span> <span class="token string">'50%'</span><span class="token punctuation">,</span> itemStyle<span class="token punctuation">:</span> <span class="token punctuation">{</span>normal<span class="token punctuation">:</span> <span class="token punctuation">{</span>    color<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> colorList <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'#66FF99'</span><span class="token punctuation">,</span> <span class="token string">'#FF9966'</span><span class="token punctuation">,</span> <span class="token string">'#FF0033'</span> <span class="token punctuation">]</span>          <span class="token keyword">return</span> colorList<span class="token punctuation">[</span>params<span class="token punctuation">.</span>dataIndex<span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><h2 id="动态数据"><a href="#动态数据" class="headerlink" title="动态数据"></a>动态数据</h2><blockquote><p>echarts动态数据处理时，只需要将数据处理成option对应的数据格式后，在调用setOption(options)<br>echarts 会根据数据进行相应的动画来实现图表的数据动态化</p></blockquote><h2 id="echart自适应"><a href="#echart自适应" class="headerlink" title="echart自适应"></a>echart自适应</h2><pre class=" language-javascript"><code class="language-javascript">myLogLine<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> myLogLine<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> echarts </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>杂记</title>
      <link href="2021/12/13/za-ji/"/>
      <url>2021/12/13/za-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="杂记"><a href="#杂记" class="headerlink" title="杂记"></a>杂记</h1><h2 id="windows-telnet设置"><a href="#windows-telnet设置" class="headerlink" title="windows telnet设置"></a>windows telnet设置</h2><h4 id="开启"><a href="#开启" class="headerlink" title="开启"></a>开启</h4><p>在控制面板-&gt;程序与功能-&gt;启动或关闭windows功能-&gt;找到Telnet Client勾选并点击确定，等待完成即可</p><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><pre class=" language-bash"><code class="language-bash">  telnet 10.32.10.2   <span class="token comment" spellcheck="true"># ip测试</span>  telnet 10.32.10.2 8080 <span class="token comment" spellcheck="true"># 端口测试</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 杂记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>项目问题记录</title>
      <link href="2021/12/11/xiang-mu-wen-ti-ji-lu/"/>
      <url>2021/12/11/xiang-mu-wen-ti-ji-lu/</url>
      
        <content type="html"><![CDATA[<h1 id="项目中遇到的问题记录"><a href="#项目中遇到的问题记录" class="headerlink" title="项目中遇到的问题记录"></a>项目中遇到的问题记录</h1><h2 id="pc分辨率自适应"><a href="#pc分辨率自适应" class="headerlink" title="pc分辨率自适应"></a>pc分辨率自适应</h2><blockquote><p>vue PC页面不同分辨率自适应，新项目直接配置rem来实现，已有项目通过插件将px转ren的形式来实现（postcss-px2rem及px2rem-loader）</p></blockquote><ol><li><p>安装插件</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> postcss-px2rem px2rem-loader --save</code></pre></li><li><p>创建并编写适配文件</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> baseSize <span class="token operator">=</span> <span class="token number">16</span><span class="token keyword">function</span> <span class="token function">setRem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 当前页面相对于1920宽的缩放比例</span>    <span class="token keyword">const</span> scale <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> <span class="token number">1920</span>    <span class="token comment" spellcheck="true">// 设置页面根节点字体大小（“Math.min(scale, 2)” 指最高放大比例为2</span>    document。documentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> baseSize <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">}</span><span class="token function">setRem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>window<span class="token punctuation">.</span>onresize <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setRem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></li><li><p>引入适配文件</p><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// main.js 中引入</span><span class="token keyword">import</span> <span class="token string">'rem.js'</span></code></pre></li><li><p>vue.config.js 中配置插件</p><pre><code>// 引入等比适配插件const px2rem = require('postcss-px2rem')// 配置基本大小const postcss = px2rem({  // 基准大小 baseSize，需要和rem.js中相同  remUnit: 16})// 使用等比适配插件module.exports = {  lintOnSave: true,  css: {    loaderOptions: {      postcss: {        plugins: [          postcss        ]      }    }  }}</code></pre></li></ol><h2 id="禁止页面缩放"><a href="#禁止页面缩放" class="headerlink" title="禁止页面缩放"></a>禁止页面缩放</h2><blockquote><p>ps:  项目需要使页面不进行缩放， 实现如下（<font color="orange" size="3"><em>如非必须请不要干涉用户操作</em></font>）</p><p>在chrome、ie下监听的是mousewheel   火狐则不存在该方法，需要监听DOMMouseScroll方法</p></blockquote><pre class=" language-javascript"><code class="language-javascript">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>metaKey <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>which <span class="token operator">===</span> <span class="token number">61</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>which <span class="token operator">===</span> <span class="token number">107</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>which <span class="token operator">===</span> <span class="token number">173</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>which <span class="token operator">===</span> <span class="token number">109</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>which <span class="token operator">===</span> <span class="token number">187</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>which <span class="token operator">===</span> <span class="token number">189</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// chrome  ie  360</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousewheel'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>metaKey<span class="token punctuation">)</span> <span class="token punctuation">{</span>        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> passive<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// firefox</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMMouseScroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>metaKey<span class="token punctuation">)</span> <span class="token punctuation">{</span>        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> passive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="element-tree在固定宽度的情况下无法产生横向的进度条"><a href="#element-tree在固定宽度的情况下无法产生横向的进度条" class="headerlink" title="element tree在固定宽度的情况下无法产生横向的进度条"></a>element tree在固定宽度的情况下无法产生横向的进度条</h2><blockquote><p>设置tree的样式</p></blockquote><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.el-tree</span>><span class="token class">.el-tree-node</span> </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>  <span class="token property">min-width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数组合并的5种方法</title>
      <link href="2021/12/11/shu-zu-he-bing-de-5-chong-fang-fa/"/>
      <url>2021/12/11/shu-zu-he-bing-de-5-chong-fang-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="数组合并的五种方法"><a href="#数组合并的五种方法" class="headerlink" title="数组合并的五种方法"></a>数组合并的五种方法</h1><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> arr2<span class="token punctuation">)</span><span class="token punctuation">{</span>    arr1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// arr1 => [1,2,3,4]</span></code></pre><h3 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>arr1 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// arr1 => [1,2,3,4]</span></code></pre><h3 id="arr-push-apply"><a href="#arr-push-apply" class="headerlink" title="arr.push.apply()"></a>arr.push.apply()</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>arr1<span class="token punctuation">.</span>push<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// arr1 => [1,2,3,4]</span></code></pre><h3 id="拓展运算符"><a href="#拓展运算符" class="headerlink" title="拓展运算符"></a>拓展运算符</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span> <span class="token operator">...</span>arr2<span class="token punctuation">]</span><span class="token comment" spellcheck="true">// arr1 => [1,2,3,4]</span></code></pre><h3 id="push结合拓展运算符"><a href="#push结合拓展运算符" class="headerlink" title="push结合拓展运算符"></a>push结合拓展运算符</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>arr1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>arr2<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// arr1 => [1,2,3,4]</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>节点所属判断</title>
      <link href="2021/12/10/jie-dian-suo-shu-pan-duan/"/>
      <url>2021/12/10/jie-dian-suo-shu-pan-duan/</url>
      
        <content type="html"><![CDATA[<h1 id="节点所属判断"><a href="#节点所属判断" class="headerlink" title="节点所属判断"></a>节点所属判断</h1><blockquote><p>在实现自定义下拉框时，研究到element的下拉框处理，是采用Node.contains()来做判断，来控制鼠标点击空白处时下拉层隐藏的操作</p></blockquote><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Node.contains() 结果返回的是一个布尔值，来表示传入的节点是否为该节点的后代节点</p><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><pre class=" language-javascript"><code class="language-javascript">    node<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>otherNode<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// node 包含的父节点</span>  <span class="token comment" spellcheck="true">// otherNode 需要判断是否包含的节点</span>  <span class="token comment" spellcheck="true">// 如果otherNode 是node的后代节点，那么结果是true ,否则是false</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue注册全局组件</title>
      <link href="2021/12/09/vue-zhu-ce-quan-ju-zu-jian/"/>
      <url>2021/12/09/vue-zhu-ce-quan-ju-zu-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="VUE注册全局Message"><a href="#VUE注册全局Message" class="headerlink" title="VUE注册全局Message"></a>VUE注册全局Message</h1><blockquote><p>简易的实现自己的message组件</p></blockquote><h2 id="定义组件样式"><a href="#定义组件样式" class="headerlink" title="定义组件样式"></a>定义组件样式</h2><p>Message.vue</p><pre class=" language-vue"><code class="language-vue">// template 部分<template>    <transition name="fade">    <div class="message-box" v-if="flag">        <i class="iconfont" :class="filterColor"></i>        <span class="message-text">{{ text }}</span>    </div></transition></template><script>export default {  name: 'Message',  data() {    return {      type: '',      text: 'this is long text',      flag: false    }  }}</script><style>    .fade-enter, .fade-leave-active {      opacity: 0;    }    .fade-enter-active, .fade-leave-active {      transition: opacity 0.3s;    }    .message-box {      max-width: 500px;      min-width: 50px;      padding: 10px 20px;      box-sizing: border-box;      overflow: hidden;      position: fixed;      display: flex;      flex-direction: row;      justify-content: flex-start;      align-items: center;      top: 40px;      left: 50%;      transform: translateX(-50%);      background-color: $white;      box-shadow: 0 0 10px $shadow_color;      border: 1px solid $content_title_bg;      border-radius: 4px;      z-index: 120;      &>i {        margin-right: 20px;        font-size: 18px;        color: $font_blue;      }      &>span {        font-size: 16px;        color: $main_color;        line-height: 1.5;        display: -webkit-box;        text-overflow: ellipsis;        overflow: hidden;        -webkit-line-clamp: 2;        -webkit-box-orient: vertical;      }  }</style></code></pre><h2 id="组件注册"><a href="#组件注册" class="headerlink" title="组件注册"></a>组件注册</h2><p>index.js —-注册组件方法</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token keyword">import</span> CusMessage <span class="token keyword">from</span> <span class="token string">'./Message.vue'</span><span class="token keyword">const</span> Message <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>CusMessage<span class="token punctuation">)</span>CusMessage<span class="token punctuation">.</span>install <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>options <span class="token operator">===</span> undefined <span class="token operator">||</span> options <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    options <span class="token operator">=</span> <span class="token punctuation">{</span>      text<span class="token punctuation">:</span> <span class="token string">'this is long text'</span><span class="token punctuation">,</span>      type<span class="token punctuation">:</span> <span class="token string">''</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> options <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> options <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    options <span class="token operator">=</span> <span class="token punctuation">{</span>      text<span class="token punctuation">:</span> options<span class="token punctuation">,</span>      type<span class="token punctuation">:</span> <span class="token string">''</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>    <span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    data<span class="token punctuation">:</span> options  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>$el<span class="token punctuation">)</span>  Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    instance<span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">true</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      instance<span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">false</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">default</span> CusMessage</code></pre><p>main.js —- 引入组件并注册</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> vue<span class="token keyword">import</span> CusMessage <span class="token keyword">from</span> <span class="token string">'@/views/components/cusMessage'</span>Vue<span class="token punctuation">.</span>property<span class="token punctuation">.</span>$cusMessage <span class="token operator">=</span> CusMessage<span class="token punctuation">.</span>install</code></pre><p>这样就完成全局组件的注册</p><h2 id="组件引用"><a href="#组件引用" class="headerlink" title="组件引用"></a>组件引用</h2><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$cusMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    type<span class="token punctuation">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>    text<span class="token punctuation">:</span> <span class="token string">'this is long text'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><blockquote><p>后续学习更深后再进行更新</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> 自定义组件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniapp海报生成遇到的坑</title>
      <link href="2021/05/29/uniapp-hai-bao-sheng-cheng-yu-dao-de-keng/"/>
      <url>2021/05/29/uniapp-hai-bao-sheng-cheng-yu-dao-de-keng/</url>
      
        <content type="html"><![CDATA[<h1 id="uniapp生成海报问题"><a href="#uniapp生成海报问题" class="headerlink" title="uniapp生成海报问题"></a>uniapp生成海报问题</h1><blockquote><p>在进行一个信息类型的使用uniapp完成的小程序中，需要进行海报分享的操作，需要生成海报，遇到了一些坑：</p></blockquote><h2 id="海报的样式"><a href="#海报的样式" class="headerlink" title="海报的样式"></a>海报的样式</h2><ul><li><p>使用canvas进行海报的绘制<br>由于不太会canvas就不详细展露自己的短板，具体可以网上查找</p></li><li><p>使用uniapp的插件painter<br>1.使用<a target="_blank" rel="noopener" href="https://lingxiaoyi.github.io/painter-custom-poster/">海报生成工具</a> 设计自己的海报样式，导出json样式<br>2.<a target="_blank" rel="noopener" href="https://github.com/Kujiale-Mobile/Painter">github下载插件</a><br>3.在本地项目新建wxcomponents文件夹 将下载的components/painter文件夹复制进来<br>4.本地项目pages.json中 globalStyle 属性下加入引入路径</p><pre class=" language-javscript"><code class="language-javscript">  "globalStyle": {    "usingComponents":{        "painter":"/wxcomponents/painter/painter"    }  }</code></pre><p>5.在需要的地方引入,传入参数组件初始化自动生成 canvas图片</p><pre class=" language-javascript"><code class="language-javascript">  <span class="token operator">&lt;</span>painter    @imgOK<span class="token operator">=</span><span class="token string">"onImgOk"</span>    @imgErr<span class="token operator">=</span><span class="token string">"onImgErr"</span>    widthPixels<span class="token operator">=</span><span class="token string">"750"</span>    <span class="token punctuation">:</span>customStyle<span class="token operator">=</span><span class="token string">"customStyle"</span>    <span class="token punctuation">:</span>palette<span class="token operator">=</span><span class="token string">"template"</span><span class="token operator">/</span><span class="token operator">></span><span class="token comment" spellcheck="true">// palette => template 传入的json代码</span><span class="token comment" spellcheck="true">// onImgOk 海报生成成功的回调函数, e.detail.path 获取 生成的图片</span><span class="token comment" spellcheck="true">// onImgErr 海报生成失败的回调函数</span><span class="token comment" spellcheck="true">// widthPixels 强制指定生成的图片的像素宽度，否则，根据你画布中设置的大小来动态调节，此属性可以提高图片分辨率。</span><span class="token comment" spellcheck="true">// customStyle 设置生成的canvas图片样式</span></code></pre></li></ul><h2 id="海报json配置项里无法使用base64图片"><a href="#海报json配置项里无法使用base64图片" class="headerlink" title="海报json配置项里无法使用base64图片"></a>海报json配置项里无法使用base64图片</h2><blockquote><p>解决方法： 缓存bease64为本地域名</p></blockquote><pre class=" language-javascript"><code class="language-javascript">  <span class="token function">base64Save</span><span class="token punctuation">(</span>base64File<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//base64File 需要加前缀</span>    <span class="token keyword">const</span> fsm <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getFileSystemManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> extName <span class="token operator">=</span> base64File<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/data\:\S+\/(\S+);/</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>extName<span class="token punctuation">)</span> <span class="token punctuation">{</span>      extName <span class="token operator">=</span> extName<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> fileName <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> extName    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          <span class="token keyword">let</span> filePath <span class="token operator">=</span> wx<span class="token punctuation">.</span>env<span class="token punctuation">.</span>USER_DATA_PATH <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> fileName          fsm<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                filePath<span class="token punctuation">,</span>                data<span class="token punctuation">:</span> base64File<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^data:\S+\/\S+;base64,/</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                encoding<span class="token punctuation">:</span> <span class="token string">'base64'</span><span class="token punctuation">,</span>                success<span class="token punctuation">:</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>                      <span class="token function">resolve</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'生成失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> uniapp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 问题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>兼容处理</title>
      <link href="2021/05/21/jian-rong-chu-li/"/>
      <url>2021/05/21/jian-rong-chu-li/</url>
      
        <content type="html"><![CDATA[<h1 id="兼容问题记录"><a href="#兼容问题记录" class="headerlink" title="兼容问题记录"></a>兼容问题记录</h1><blockquote><p>在进行h5或者移动端开发的时候，都会遇到一些兼容性的问题，把我自己遇到的部分记录一下</p></blockquote><ul><li><p>input文字不居中的情况<br>input中文字会出现偏上的现象，一般设置line-height=height可以居中，但移动端这样设置后依然可能存在偏上，需要直接设置line-height: normal</p></li><li><p>固定定位输入框，键盘弹起时会遮挡输入框<br>在页面需要将输入框固定在底部时，键盘弹起会盖住输入框，处理方法是：聚焦时将输入框设置为静态定位，这样就会被键盘顶上去，当失去焦点时重新设置定位</p></li><li><p>1像素的处理<br>伪类+transform的形式   –写法繁琐</p><pre class=" language-javascript"><code class="language-javascript">  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>   <span class="token comment" spellcheck="true">// css</span>  <span class="token punctuation">.</span>box <span class="token punctuation">{</span>    width<span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>    height<span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>    position<span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    border<span class="token operator">-</span>radius<span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token punctuation">.</span>box<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>    content<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    box<span class="token operator">-</span>sizing<span class="token punctuation">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>    position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    left<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    top<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>    height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>    border<span class="token punctuation">:</span> 1px solid gray<span class="token punctuation">;</span>    border<span class="token operator">-</span>radius<span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// 根据像素比 处理</span>  @media <span class="token punctuation">(</span><span class="token operator">-</span>webkit<span class="token operator">-</span>min<span class="token operator">-</span>device<span class="token operator">-</span>pixel<span class="token operator">-</span>ratio<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">.</span>border<span class="token operator">-</span>1px<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>        width<span class="token punctuation">:</span> <span class="token number">200</span><span class="token operator">%</span><span class="token punctuation">;</span>        height<span class="token punctuation">:</span> <span class="token number">200</span><span class="token operator">%</span><span class="token punctuation">;</span>        transform<span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        transform<span class="token operator">-</span>origin<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>   @media <span class="token punctuation">(</span><span class="token operator">-</span>webkit<span class="token operator">-</span>min<span class="token operator">-</span>device<span class="token operator">-</span>pixel<span class="token operator">-</span>ratio<span class="token punctuation">:</span> <span class="token number">2.5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token punctuation">.</span>border<span class="token operator">-</span>1px<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>          width<span class="token punctuation">:</span> <span class="token number">250</span><span class="token operator">%</span><span class="token punctuation">;</span>          height<span class="token punctuation">:</span> <span class="token number">250</span><span class="token operator">%</span><span class="token punctuation">;</span>          <span class="token operator">-</span>webkit<span class="token operator">-</span>transform<span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  @media <span class="token punctuation">(</span><span class="token operator">-</span>webkit<span class="token operator">-</span>min<span class="token operator">-</span>device<span class="token operator">-</span>pixel<span class="token operator">-</span>ratio<span class="token punctuation">:</span> <span class="token number">2.75</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token punctuation">.</span>border<span class="token operator">-</span>1px<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>          width<span class="token punctuation">:</span> <span class="token number">275</span><span class="token operator">%</span><span class="token punctuation">;</span>          height<span class="token punctuation">:</span> <span class="token number">275</span><span class="token operator">%</span><span class="token punctuation">;</span>          <span class="token operator">-</span>webkit<span class="token operator">-</span>transform<span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">2.75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  @media <span class="token punctuation">(</span><span class="token operator">-</span>webkit<span class="token operator">-</span>min<span class="token operator">-</span>device<span class="token operator">-</span>pixel<span class="token operator">-</span>ratio<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token punctuation">.</span>border<span class="token operator">-</span>1px<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>          width<span class="token punctuation">:</span> <span class="token number">300</span><span class="token operator">%</span><span class="token punctuation">;</span>          height<span class="token punctuation">:</span> <span class="token number">300</span><span class="token operator">%</span><span class="token punctuation">;</span>          transform<span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token operator">-</span>webkit<span class="token operator">-</span>transform<span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span></code></pre><p>border-image形式  –视觉效果不好，可能会模糊</p><pre class=" language-javascript"><code class="language-javascript">  <span class="token punctuation">.</span>border<span class="token punctuation">{</span>       border<span class="token operator">-</span>width<span class="token punctuation">:</span> 1px 0px<span class="token punctuation">;</span>      <span class="token operator">-</span>webkit<span class="token operator">-</span>border<span class="token operator">-</span>image<span class="token punctuation">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"border.png"</span><span class="token punctuation">)</span> <span class="token number">2</span> <span class="token number">0</span> stretch<span class="token punctuation">;</span>      border<span class="token operator">-</span>image<span class="token punctuation">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"border.png"</span><span class="token punctuation">)</span> <span class="token number">2</span> <span class="token number">0</span> stretch<span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre><p>box-shadow形式   –颜色不好控制</p><pre class=" language-javascript"><code class="language-javascript">  <span class="token punctuation">.</span>border <span class="token punctuation">{</span>    box<span class="token operator">-</span>shadow<span class="token punctuation">:</span> <span class="token number">0</span> 1px 1px <span class="token operator">-</span>1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">-</span>webkit<span class="token operator">-</span>box<span class="token operator">-</span>shadow<span class="token punctuation">:</span> <span class="token number">0</span> 1px 1px <span class="token operator">-</span>1px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre></li><li><p>移动端点击300ms延迟解决<br>由于需要区分单击事件和双击缩放，所以在用户第一次点击后，会保持一段时间，如果用户在这段时间内未进行下次点击，即进行单击处理<br>元素的事件顺序： touchstart –&gt; touchmove –&gt; touchend –&gt; click， 触摸事件在点击事件先执行，即可通过绑定触摸事件来取消点击延迟问题</p><p>300ms的延时会引发点击穿透问题，会触发到下层相同位置的元素的事件<br>解决方案：<br>  1.下层元素本身无click事件,没有input select a标签,统一使用touch事件；<br>  2.在上方元素的touchend事件回调函数中,阻止后续触发默认事件 e.preventDefault()</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 移动端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 兼容 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自定义弹层时，阻止底部内容滚动</title>
      <link href="2021/05/19/zi-ding-yi-dan-ceng-shi-zu-zhi-di-bu-nei-rong-gun-dong/"/>
      <url>2021/05/19/zi-ding-yi-dan-ceng-shi-zu-zhi-di-bu-nei-rong-gun-dong/</url>
      
        <content type="html"><![CDATA[<h1 id="自定义弹层时，阻止弹层底部内容滚动处理"><a href="#自定义弹层时，阻止弹层底部内容滚动处理" class="headerlink" title="自定义弹层时，阻止弹层底部内容滚动处理"></a>自定义弹层时，阻止弹层底部内容滚动处理</h1><blockquote><p>在进行自定义弹层时，pc或者移动端在弹层上进行滚动或滑动时，底部内容超过一屏的时候，也会进行滚动，体验不佳</p></blockquote><h3 id="处理方式"><a href="#处理方式" class="headerlink" title="处理方式"></a>处理方式</h3><ul><li><p>移动端<br>自定义弹层时，阻止弹层下内容滚动,在蒙版及弹层最外层上进行触摸事件的处理</p><pre class=" language-javascript"><code class="language-javascript">@touchmove<span class="token punctuation">.</span>stop<span class="token punctuation">.</span>prevent<span class="token operator">=</span><span class="token string">"moveHandle"</span><span class="token function">moveHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>pc端<br>在web端处理，则需要在弹层开启时，设置body属性即可,限制内容只展示一个屏幕，这样在鼠标进行滚动时就不会引起底部内容的滚动</p><pre class=" language-javascript"><code class="language-javascript">  <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span>body <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>  dom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'100vh'</span><span class="token punctuation">;</span>   dom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span></code></pre></li><li><p>兼容处理<br>记录当前的高度（var scrollTop = document.body.scrollTop || document.documentElement.scrollTop），内容设置position：fixed ，并移动到对应位置 (设置 top = scrollTop)，关闭弹层时取消position的设置</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 自定义 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 兼容 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>移动端Date的差异</title>
      <link href="2021/05/18/yi-dong-duan-date-de-chai-yi/"/>
      <url>2021/05/18/yi-dong-duan-date-de-chai-yi/</url>
      
        <content type="html"><![CDATA[<h1 id="移动端在处理new-Date转换时，对参数格式有不同的要求"><a href="#移动端在处理new-Date转换时，对参数格式有不同的要求" class="headerlink" title="移动端在处理new Date转换时，对参数格式有不同的要求"></a>移动端在处理new Date转换时，对参数格式有不同的要求</h1><blockquote><p>起因：在转换时间获取几分钟，几秒钟，几小时前的处理中，通过接口拿到数据中的时间格式为 2021-05-10 10:00:00，处理后在andorid上显示正常，而在ios上显示null</p></blockquote><h3 id="出现该情况的原因"><a href="#出现该情况的原因" class="headerlink" title="出现该情况的原因"></a>出现该情况的原因</h3><p>  为什么会出现这种情况，主要在于android和ios的内核及处理格式不同导致了new Date在android和ios下有效格式不同，ios中new Date的处理格式只能是 2021/05/10 10:00:00, 对于连接符不是/的格式无法正常转换</p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><p>  将连接符统一转换为 ‘/‘ </p><pre class=" language-javascript"><code class="language-javascript">  <span class="token keyword">var</span> obj<span class="token operator">=</span><span class="token string">"2021-05-10 10:00:00"</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 移动端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 兼容 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniapp引入iconfont报错处理</title>
      <link href="2021/05/09/uniapp-yin-ru-iconfont-bao-cuo-chu-li/"/>
      <url>2021/05/09/uniapp-yin-ru-iconfont-bao-cuo-chu-li/</url>
      
        <content type="html"><![CDATA[<h1 id="uniapp引入iconfont-打包后会有报错，导致页面白屏"><a href="#uniapp引入iconfont-打包后会有报错，导致页面白屏" class="headerlink" title="uniapp引入iconfont 打包后会有报错，导致页面白屏"></a>uniapp引入iconfont 打包后会有报错，导致页面白屏</h1><p>在将iconfont下载到本地的压缩包里会有iconfont.js文件，引起的错误的来源就是该文件内的元素存在被未被查找，导致在解析的时候就被报错阻断，无法完成正常解析，导致页面渲染失败</p><blockquote><p>解决方法： 第一种是在引入的iconfont文件夹下找到iconfont.js文件，删除该文件后即可正常使用  第二种将下载本地的iconfont文件不放入static里面，单独新建一个iconfont文件夹放入，在全局引入</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> vue  uniapp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 问题 </tag>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniapp 分享配置</title>
      <link href="2021/05/03/uniapp-fen-xiang-pei-zhi/"/>
      <url>2021/05/03/uniapp-fen-xiang-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h1 id="uniapp-分享设置："><a href="#uniapp-分享设置：" class="headerlink" title="uniapp  分享设置："></a>uniapp  分享设置：</h1><blockquote><p>具体参数查看文档</p></blockquote><h3 id="1-单独页面设置-页面中onShareAppMessage（分享好友）和onShareTimeline（分享朋友圈）"><a href="#1-单独页面设置-页面中onShareAppMessage（分享好友）和onShareTimeline（分享朋友圈）" class="headerlink" title="1. 单独页面设置:  页面中onShareAppMessage（分享好友）和onShareTimeline（分享朋友圈）"></a>1. 单独页面设置:  页面中onShareAppMessage（分享好友）和onShareTimeline（分享朋友圈）</h3><h3 id="2-公用方法，通过mixins加入页面"><a href="#2-公用方法，通过mixins加入页面" class="headerlink" title="2. 公用方法，通过mixins加入页面"></a>2. 公用方法，通过mixins加入页面</h3><p>   定义share.js：</p><pre><code>``` javascript   export const shareMixins = {       data () {           return {               shareData: {                   title: '',                   path: '',                   imageUrl: '',                   content: '',                   desc: ''               },               circleData: {                   title: '',                   query: '',                   imageUrl: ''               },               favoriteData: {                   title: '',                   imageUrl: '',                   query: ''               }           }       },   //#ifdef MP-WEIXIN   onShareAppMessage () {       return {           title: this.shareData.title,           path: this.shareData.path,           imageUrl: this.shareData.imageUrl,           content: this.shareData.content,           desc: this.shareData.desc,           success: res =&gt; {               console.info(res)           }       }   },   onShareTimeline() {       return {           title: this.circleData.title,           query: this.circleData.query,           imageUrl: this.circleData.imageUrl,           success: (res) =&gt; {               console.log(res);           }       }   },   onAddToFavorites() {       return {           title: this.favoriteData.title,           imageUrl: this.favoriteData.imageUrl,           query: this.favoriteData.query,           success: (res) =&gt; {               console.log(res)           }       }   },   //#endif      onLoad(option) {   }}```第二步在需要的页面中引入并添加mixins</code></pre><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// 直接进行分享的参数配置 或进行另外的赋值操作</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span>shareMixins<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> vue  uniapp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker+nginx部署vue项目</title>
      <link href="2021/04/20/docker-nginx-bu-shu-vue-xiang-mu/"/>
      <url>2021/04/20/docker-nginx-bu-shu-vue-xiang-mu/</url>
      
        <content type="html"><![CDATA[<h1 id="docker-nginx部署vue"><a href="#docker-nginx部署vue" class="headerlink" title="docker+nginx部署vue"></a>docker+nginx部署vue</h1><h2 id="创建vue项目"><a href="#创建vue项目" class="headerlink" title="创建vue项目"></a>创建vue项目</h2><p>1.安装vue cli:   </p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g @vue/cli<span class="token comment" spellcheck="true"># OR</span>yarn global add @vue/cli</code></pre><p>2.创建项目：</p><pre class=" language-bash"><code class="language-bash">vue create hello-world</code></pre><p>打包项目：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> run build</code></pre><h2 id="Nginx的config文件创建"><a href="#Nginx的config文件创建" class="headerlink" title="Nginx的config文件创建"></a>Nginx的config文件创建</h2><p>nginx.conf文件编写</p><pre class=" language-bash"><code class="language-bash">server <span class="token punctuation">{</span>    listen       80<span class="token punctuation">;</span>    server_name  localhost<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">#charset koi8-r;</span>    access_log  /var/log/nginx/host.access.log  main<span class="token punctuation">;</span>    error_log  /var/log/nginx/error.log  error<span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>        root   /var/www/html/index.html<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true"># index.html放置的位置路径</span>        index  index.html index.htm<span class="token punctuation">;</span> <span class="token comment" spellcheck="true"># 识别的index.html index.htm</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">#error_page  404              /404.html;</span>    <span class="token comment" spellcheck="true"># redirect server error pages to the static page /50x.html</span>    <span class="token comment" spellcheck="true">#</span>    error_page   500 502 503 504  /50x.html<span class="token punctuation">;</span>    location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>  //        root   /usr/share/nginx/html<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">#错误页面的路径</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="Dockerfile-创建"><a href="#Dockerfile-创建" class="headerlink" title="Dockerfile 创建"></a>Dockerfile 创建</h2><p>1.创建dockerfile文件</p><p>​    项目根目录或其他路径下创建Dockerfile文件，编写内容：</p><pre class=" language-bash"><code class="language-bash">FROM nginx     <span class="token comment" spellcheck="true"># 拉去nginx镜像</span>COPY ./dist /var/www/html            <span class="token comment" spellcheck="true"># 命令的意思是将项目根目录下dist文件夹下的所有文件复制到镜像中 /var/www/html/ 目录下</span>COPY ./default.conf /etc/nginx/conf.d/  <span class="token comment" spellcheck="true"># 命令的意思是将当前目录下的default.conf 复制到 etc/nginx/conf.d/下，用本地的 default.conf 配置来替换nginx镜像里的默认配置</span>EXPOSE 80</code></pre><p>2.构建镜像</p><pre class=" language-bash"><code class="language-bash">docker build -t 镜像名 <span class="token keyword">.</span>    <span class="token comment" spellcheck="true"># .表示的是 基于当前目录下的Dockerfile</span></code></pre><p>3.运行容器</p><pre class=" language-bash"><code class="language-bash">docker run -p 3000:80 -d --name vueApp 镜像  <span class="token comment" spellcheck="true"># -p 3000:80 将宿主的3000端口映射到容器的80端口</span><span class="token comment" spellcheck="true"># -d 表示后台运行</span><span class="token comment" spellcheck="true"># vueApp 设置的容器名称</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flutter 打包配置</title>
      <link href="2021/04/05/flutter-da-bao-pei-zhi/"/>
      <url>2021/04/05/flutter-da-bao-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h1 id="flutter-打包配置"><a href="#flutter-打包配置" class="headerlink" title="flutter 打包配置"></a>flutter 打包配置</h1><h3 id="生成jks：打包用的keystore"><a href="#生成jks：打包用的keystore" class="headerlink" title="生成jks：打包用的keystore"></a>生成jks：打包用的keystore</h3><pre class=" language-javascript"><code class="language-javascript">keytool <span class="token operator">-</span>genkey <span class="token operator">-</span>v <span class="token operator">-</span>keystore<span class="token operator">/</span>Users<span class="token operator">/</span>fei<span class="token operator">/</span>keystore<span class="token operator">/</span>test<span class="token punctuation">.</span>jks <span class="token operator">-</span>keyalg RSA <span class="token operator">-</span>keysize <span class="token number">2048</span> <span class="token operator">-</span>validity <span class="token number">10000</span> <span class="token operator">-</span>alias test</code></pre><p>/Users/fei/keystore/test.jks 生成的文件路径及jks文件，test  别名</p><h3 id="查看sha1"><a href="#查看sha1" class="headerlink" title="查看sha1:"></a>查看sha1:</h3><pre class=" language-javascript"><code class="language-javascript">keytool <span class="token operator">-</span>v <span class="token operator">-</span>list <span class="token operator">-</span>keystore 【jks文件路径（<span class="token operator">/</span>Users<span class="token operator">/</span>fei<span class="token operator">/</span>keystore<span class="token operator">/</span>test<span class="token punctuation">.</span>jks）】 输入密码后可获取sha1码</code></pre><p><img src="/images/screenshot/view_sha1.jpg"></p><h3 id="在Android目录下新建key-properties文件；"><a href="#在Android目录下新建key-properties文件；" class="headerlink" title="在Android目录下新建key.properties文件；"></a>在Android目录下新建key.properties文件；</h3><p>内容如下：</p><pre class=" language-javascript"><code class="language-javascript">storePassword<span class="token operator">=</span><span class="token number">123456</span>keyPassword<span class="token operator">=</span><span class="token number">123456</span>keyAlias<span class="token operator">=</span>teststoreFile<span class="token operator">=</span><span class="token operator">/</span>Users<span class="token operator">/</span>fei<span class="token operator">/</span>keystore<span class="token operator">/</span>test<span class="token punctuation">.</span>jks</code></pre><h3 id="修改app目录下的build-gradle"><a href="#修改app目录下的build-gradle" class="headerlink" title="修改app目录下的build.gradle:"></a>修改app目录下的build.gradle:</h3><h4 id="在android之前添加："><a href="#在android之前添加：" class="headerlink" title="在android之前添加："></a>在android之前添加：</h4><pre class=" language-javascript"><code class="language-javascript">def keyProperties<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span>def keyPropertiesFile<span class="token operator">=</span>rootProject<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string">"key.properties"</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span>keyPropertiesFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    keyProperties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>keyPropertiesFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h4 id="在buildTypes-上面添加-signingConfigs"><a href="#在buildTypes-上面添加-signingConfigs" class="headerlink" title="在buildTypes  上面添加 signingConfigs:"></a>在buildTypes  上面添加 signingConfigs:</h4><pre class=" language-javascript"><code class="language-javascript">signingConfigs<span class="token punctuation">{</span>    release<span class="token punctuation">{</span>        keyAlias keyProperties<span class="token punctuation">[</span><span class="token string">'keyAlias'</span><span class="token punctuation">]</span>        keyPassword keyProperties<span class="token punctuation">[</span><span class="token string">'keyPassword'</span><span class="token punctuation">]</span>        storeFile keyProperties<span class="token punctuation">[</span><span class="token string">'storeFile'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token function">file</span><span class="token punctuation">(</span>keyProperties<span class="token punctuation">[</span><span class="token string">'storeFile'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">null</span>        storePassword keyProperties<span class="token punctuation">[</span><span class="token string">'storePassword'</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="调整buildTypes："><a href="#调整buildTypes：" class="headerlink" title="调整buildTypes："></a>调整buildTypes：</h4><pre class=" language-javascript"><code class="language-javascript">buildTypes <span class="token punctuation">{</span>        release <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// TODO: Add your own signing config for the release build.</span>            <span class="token comment" spellcheck="true">// Signing with the debug keys for now, so `flutter run --release` works.</span>            signingConfig signingConfigs<span class="token punctuation">.</span>release            <span class="token comment" spellcheck="true">//关闭混淆, 否则在运行release包后可能出现运行崩溃， TODO后续进行混淆配置</span>            minifyEnabled <span class="token boolean">false</span> <span class="token comment" spellcheck="true">//删除无用代码</span>            shrinkResources <span class="token boolean">false</span> <span class="token comment" spellcheck="true">//删除无用资源</span>        <span class="token punctuation">}</span>        debug <span class="token punctuation">{</span>            signingConfig signingConfigs<span class="token punctuation">.</span>release            <span class="token comment" spellcheck="true">//关闭混淆, 否则在运行release包后可能出现运行崩溃， TODO后续进行混淆配置</span>            minifyEnabled <span class="token boolean">false</span> <span class="token comment" spellcheck="true">//删除无用代码</span>            shrinkResources <span class="token boolean">false</span> <span class="token comment" spellcheck="true">//删除无用资源</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre><h3 id="配置完成，运行命令打包："><a href="#配置完成，运行命令打包：" class="headerlink" title="配置完成，运行命令打包："></a>配置完成，运行命令打包：</h3><pre class=" language-bash"><code class="language-bash">flutter build apk</code></pre><p>等待完成即可</p>]]></content>
      
      
      <categories>
          
          <category> flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flutter 引入高德地图（android版）</title>
      <link href="2021/04/01/flutter-yin-ru-gao-de-di-tu-android-ban/"/>
      <url>2021/04/01/flutter-yin-ru-gao-de-di-tu-android-ban/</url>
      
        <content type="html"><![CDATA[<h1 id="flutter-引入高德地图（android）"><a href="#flutter-引入高德地图（android）" class="headerlink" title="flutter 引入高德地图（android）"></a>flutter 引入高德地图（android）</h1><blockquote><p>配置搞得欲哭无泪</p></blockquote><h2 id="1-申请高德apikey"><a href="#1-申请高德apikey" class="headerlink" title="1.申请高德apikey"></a>1.申请高德apikey</h2><p>登录高德开发者平台，控制台-应用管理-创建应用</p><p>申请key时需要sha1（使用项目的打包文件 jks文件里的sha1）和packageName</p><h2 id="2-下载sdk"><a href="#2-下载sdk" class="headerlink" title="2.下载sdk"></a>2.下载sdk</h2><blockquote><p><a target="_blank" rel="noopener" href="https://lbs.amap.com/api/flutter/download">官方sdk例子下载</a></p></blockquote><h2 id="3-配置"><a href="#3-配置" class="headerlink" title="3.配置"></a>3.配置</h2><h4 id="将下载的官方包中的libs下的所有文件放置到项目的libs下"><a href="#将下载的官方包中的libs下的所有文件放置到项目的libs下" class="headerlink" title="将下载的官方包中的libs下的所有文件放置到项目的libs下"></a>将下载的官方包中的libs下的所有文件放置到项目的libs下</h4><h3 id="配置："><a href="#配置：" class="headerlink" title="配置："></a>配置：</h3><p>在项目的android/app文件下找到build.gradle， 在文件中找到sourceSets 标签，增加一项配置</p><pre class=" language-javascript"><code class="language-javascript">main<span class="token punctuation">{</span>  jniLibs<span class="token punctuation">.</span>srcDirs<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'libs'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>在defaultConfig中加入：</p><pre class=" language-javascript"><code class="language-javascript">multiDexEnabled <span class="token boolean">true</span>manifestPlaceholders <span class="token operator">=</span> <span class="token punctuation">[</span>    AMAP_KEY <span class="token punctuation">:</span> <span class="token string">"d6137d3d7c9aedfc4078db0b630613d4"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/// 高德地图key</span><span class="token punctuation">]</span></code></pre><p>在dependencies中添加高德地图sdk</p><pre class=" language-javascript"><code class="language-javascript">implementation <span class="token function">fileTree</span><span class="token punctuation">(</span>include<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'*.jar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dir<span class="token punctuation">:</span> <span class="token string">'libs'</span><span class="token punctuation">)</span></code></pre><h3 id="项目的-“AndroidManifest-xml”-文件中，添加如下代码"><a href="#项目的-“AndroidManifest-xml”-文件中，添加如下代码" class="headerlink" title="项目的 “AndroidManifest.xml” 文件中，添加如下代码:"></a>项目的 “AndroidManifest.xml” 文件中，添加如下代码:</h3><h4 id="配置权限：-application下面加入"><a href="#配置权限：-application下面加入" class="headerlink" title="配置权限： application下面加入"></a>配置权限： application下面加入</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>允许程序打开网络套接字<span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">"android.permission.INTERNET"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>允许程序设置内置sd卡的写权限<span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">"android.permission.WRITE_EXTERNAL_STORAGE"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>允许程序获取网络状态<span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">"android.permission.ACCESS_NETWORK_STATE"</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>允许程序访问WiFi网络信息<span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">"android.permission.ACCESS_WIFI_STATE"</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>允许程序读写手机状态和身份<span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">"android.permission.READ_PHONE_STATE"</span> <span class="token operator">/</span><span class="token operator">></span>     <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>允许程序访问CellID或WiFi热点来获取粗略的位置<span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token punctuation">:</span>name<span class="token operator">=</span><span class="token string">"android.permission.ACCESS_COARSE_LOCATION"</span> <span class="token operator">/</span><span class="token operator">></span> </code></pre><h4 id="引入插件："><a href="#引入插件：" class="headerlink" title="引入插件："></a>引入插件：</h4><ol><li>在Flutter工程的pubspec.yaml里的dependencies添加如下代码引入高德地图Flutter插件</li></ol><pre class=" language-javascript"><code class="language-javascript">dependencies<span class="token punctuation">:</span>  amap_flutter_map<span class="token punctuation">:</span> <span class="token operator">^</span><span class="token number">1.0</span><span class="token punctuation">.</span><span class="token number">0</span></code></pre><p>2.获取插件</p><pre class=" language-bash"><code class="language-bash">  flutter pub get</code></pre><p>3.需要使用地图的dart文件中引入</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'package:amap_flutter_base/amap_flutter_base.dart'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 基础包</span><span class="token keyword">import</span> <span class="token string">'package:amap_flutter_map/amap_flutter_map.dart'</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 插件包</span>AMapController _mapController<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 项目中使用</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> AMapApiKey amapApiKeys <span class="token operator">=</span>      <span class="token function">AMapApiKey</span><span class="token punctuation">(</span>androidKey<span class="token punctuation">:</span> <span class="token string">'d6137d3d7c9aedfc4078db0b630613d4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">///使用默认属性创建一个地图</span>  final AMapWidget map <span class="token operator">=</span> <span class="token function">AMapWidget</span><span class="token punctuation">(</span>    apiKey<span class="token punctuation">:</span> amapApiKeys<span class="token punctuation">,</span>    onMapCreated<span class="token punctuation">:</span> onMapCreated<span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span>      height<span class="token punctuation">:</span> MediaQuery<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">,</span>      width<span class="token punctuation">:</span> MediaQuery<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span>      child<span class="token punctuation">:</span> map<span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">onMapCreated</span><span class="token punctuation">(</span>AMapController controller<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      _mapController <span class="token operator">=</span> controller<span class="token punctuation">;</span>      <span class="token function">getApprovalNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token comment" spellcheck="true">/// 获取审图号</span><span class="token keyword">void</span> <span class="token function">getApprovalNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//普通地图审图号</span>  String mapContentApprovalNumber <span class="token operator">=</span>  <span class="token keyword">await</span> _mapController<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getMapContentApprovalNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//卫星地图审图号</span>  String satelliteImageApprovalNumber <span class="token operator">=</span>  <span class="token keyword">await</span> _mapController<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getSatelliteImageApprovalNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flutter 坐标系转换</title>
      <link href="2021/04/01/flutter-zuo-biao-xi-zhuan-huan/"/>
      <url>2021/04/01/flutter-zuo-biao-xi-zhuan-huan/</url>
      
        <content type="html"><![CDATA[<h1 id="GCJ-02-火星坐标系-BD09-百度坐标系-WGS84-GPS坐标-转换"><a href="#GCJ-02-火星坐标系-BD09-百度坐标系-WGS84-GPS坐标-转换" class="headerlink" title="GCJ-02(火星坐标系)     BD09(百度坐标系)     WGS84(GPS坐标) 转换"></a>GCJ-02(火星坐标系)     BD09(百度坐标系)     WGS84(GPS坐标) 转换</h1><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">GpsUtil</span> <span class="token punctuation">{</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> num pi <span class="token operator">=</span> <span class="token number">3.1415926535897932384626</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> num x_pi <span class="token operator">=</span> <span class="token number">3.14159265358979324</span> <span class="token operator">*</span> <span class="token number">3000.0</span> <span class="token operator">/</span> <span class="token number">180.0</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> num a <span class="token operator">=</span> <span class="token number">6378245.0</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> num ee <span class="token operator">=</span> <span class="token number">0.00669342162296594323</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> num <span class="token function">transformLat</span><span class="token punctuation">(</span>num x<span class="token punctuation">,</span> num y<span class="token punctuation">)</span> <span class="token punctuation">{</span>    num ret <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">100.0</span> <span class="token operator">+</span>        <span class="token number">2.0</span> <span class="token operator">*</span> x <span class="token operator">+</span>        <span class="token number">3.0</span> <span class="token operator">*</span> y <span class="token operator">+</span>        <span class="token number">0.2</span> <span class="token operator">*</span> y <span class="token operator">*</span> y <span class="token operator">+</span>        <span class="token number">0.1</span> <span class="token operator">*</span> x <span class="token operator">*</span> y <span class="token operator">+</span>        <span class="token number">0.2</span> <span class="token operator">*</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ret <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">20.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">6.0</span> <span class="token operator">*</span> x <span class="token operator">*</span> pi<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">20.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2.0</span> <span class="token operator">*</span> x <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">;</span>    ret <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">20.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>y <span class="token operator">*</span> pi<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">40.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>y <span class="token operator">/</span> <span class="token number">3.0</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">;</span>    ret <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">160.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>y <span class="token operator">/</span> <span class="token number">12.0</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">320</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>y <span class="token operator">*</span> pi <span class="token operator">/</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">static</span> num <span class="token function">transformLon</span><span class="token punctuation">(</span>num x<span class="token punctuation">,</span> num y<span class="token punctuation">)</span> <span class="token punctuation">{</span>    num ret <span class="token operator">=</span>        <span class="token number">300.0</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token number">2.0</span> <span class="token operator">*</span> y <span class="token operator">+</span> <span class="token number">0.1</span> <span class="token operator">*</span> x <span class="token operator">*</span> x <span class="token operator">+</span> <span class="token number">0.1</span> <span class="token operator">*</span> x <span class="token operator">*</span> y <span class="token operator">+</span> <span class="token number">0.1</span> <span class="token operator">*</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ret <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">20.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">6.0</span> <span class="token operator">*</span> x <span class="token operator">*</span> pi<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">20.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2.0</span> <span class="token operator">*</span> x <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">;</span>    ret <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">20.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>x <span class="token operator">*</span> pi<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">40.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>x <span class="token operator">/</span> <span class="token number">3.0</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">;</span>    ret <span class="token operator">+</span><span class="token operator">=</span>        <span class="token punctuation">(</span><span class="token number">150.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>x <span class="token operator">/</span> <span class="token number">12.0</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">300.0</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>x <span class="token operator">/</span> <span class="token number">30.0</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">static</span> List<span class="token operator">&lt;</span>num<span class="token operator">></span> <span class="token function">transform</span><span class="token punctuation">(</span>num lat<span class="token punctuation">,</span> num lon<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">outOfChina</span><span class="token punctuation">(</span>lat<span class="token punctuation">,</span> lon<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token punctuation">[</span>lat<span class="token punctuation">,</span> lon<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    num dLat <span class="token operator">=</span> <span class="token function">transformLat</span><span class="token punctuation">(</span>lon <span class="token operator">-</span> <span class="token number">105.0</span><span class="token punctuation">,</span> lat <span class="token operator">-</span> <span class="token number">35.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    num dLon <span class="token operator">=</span> <span class="token function">transformLon</span><span class="token punctuation">(</span>lon <span class="token operator">-</span> <span class="token number">105.0</span><span class="token punctuation">,</span> lat <span class="token operator">-</span> <span class="token number">35.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    num radLat <span class="token operator">=</span> lat <span class="token operator">/</span> <span class="token number">180.0</span> <span class="token operator">*</span> pi<span class="token punctuation">;</span>    num magic <span class="token operator">=</span> <span class="token function">sin</span><span class="token punctuation">(</span>radLat<span class="token punctuation">)</span><span class="token punctuation">;</span>    magic <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> ee <span class="token operator">*</span> magic <span class="token operator">*</span> magic<span class="token punctuation">;</span>    num sqrtMagic <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>magic<span class="token punctuation">)</span><span class="token punctuation">;</span>    dLat <span class="token operator">=</span> <span class="token punctuation">(</span>dLat <span class="token operator">*</span> <span class="token number">180.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> ee<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>magic <span class="token operator">*</span> sqrtMagic<span class="token punctuation">)</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    dLon <span class="token operator">=</span> <span class="token punctuation">(</span>dLon <span class="token operator">*</span> <span class="token number">180.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>a <span class="token operator">/</span> sqrtMagic <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>radLat<span class="token punctuation">)</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    num mgLat <span class="token operator">=</span> lat <span class="token operator">+</span> dLat<span class="token punctuation">;</span>    num mgLon <span class="token operator">=</span> lon <span class="token operator">+</span> dLon<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span>mgLat<span class="token punctuation">,</span> mgLon<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">static</span> bool <span class="token function">outOfChina</span><span class="token punctuation">(</span>num lat<span class="token punctuation">,</span> num lon<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>lon <span class="token operator">&lt;</span> <span class="token number">72.004</span> <span class="token operator">||</span> lon <span class="token operator">></span> <span class="token number">137.8347</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>lat <span class="token operator">&lt;</span> <span class="token number">0.8293</span> <span class="token operator">||</span> lat <span class="token operator">></span> <span class="token number">55.8271</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">/**   * 84 to 火星坐标系 (GCJ-02) World Geodetic System ==> Mars Geodetic System   *   * @param lat   * @param lon   * @return   */</span>  <span class="token keyword">static</span> List<span class="token operator">&lt;</span>num<span class="token operator">></span> <span class="token function">gps84_To_Gcj02</span><span class="token punctuation">(</span>num lat<span class="token punctuation">,</span> num lon<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">outOfChina</span><span class="token punctuation">(</span>lat<span class="token punctuation">,</span> lon<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token punctuation">[</span>lat<span class="token punctuation">,</span> lon<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    num dLat <span class="token operator">=</span> <span class="token function">transformLat</span><span class="token punctuation">(</span>lon <span class="token operator">-</span> <span class="token number">105.0</span><span class="token punctuation">,</span> lat <span class="token operator">-</span> <span class="token number">35.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    num dLon <span class="token operator">=</span> <span class="token function">transformLon</span><span class="token punctuation">(</span>lon <span class="token operator">-</span> <span class="token number">105.0</span><span class="token punctuation">,</span> lat <span class="token operator">-</span> <span class="token number">35.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    num radLat <span class="token operator">=</span> lat <span class="token operator">/</span> <span class="token number">180.0</span> <span class="token operator">*</span> pi<span class="token punctuation">;</span>    num magic <span class="token operator">=</span> <span class="token function">sin</span><span class="token punctuation">(</span>radLat<span class="token punctuation">)</span><span class="token punctuation">;</span>    magic <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> ee <span class="token operator">*</span> magic <span class="token operator">*</span> magic<span class="token punctuation">;</span>    num sqrtMagic <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>magic<span class="token punctuation">)</span><span class="token punctuation">;</span>    dLat <span class="token operator">=</span> <span class="token punctuation">(</span>dLat <span class="token operator">*</span> <span class="token number">180.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> ee<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>magic <span class="token operator">*</span> sqrtMagic<span class="token punctuation">)</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    dLon <span class="token operator">=</span> <span class="token punctuation">(</span>dLon <span class="token operator">*</span> <span class="token number">180.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>a <span class="token operator">/</span> sqrtMagic <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>radLat<span class="token punctuation">)</span> <span class="token operator">*</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    num mgLat <span class="token operator">=</span> lat <span class="token operator">+</span> dLat<span class="token punctuation">;</span>    num mgLon <span class="token operator">=</span> lon <span class="token operator">+</span> dLon<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span>mgLat<span class="token punctuation">,</span> mgLon<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">/**   * * 火星坐标系 (GCJ-02) to 84 * * @param lon * @param lat * @return   */</span>  <span class="token keyword">static</span> List<span class="token operator">&lt;</span>num<span class="token operator">></span> <span class="token function">gcj02_To_Gps84</span><span class="token punctuation">(</span>num lat<span class="token punctuation">,</span> num lon<span class="token punctuation">)</span> <span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>num<span class="token operator">></span> gps <span class="token operator">=</span> <span class="token function">transform</span><span class="token punctuation">(</span>lat<span class="token punctuation">,</span> lon<span class="token punctuation">)</span><span class="token punctuation">;</span>    num lontitude <span class="token operator">=</span> lon <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> gps<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    num latitude <span class="token operator">=</span> lat <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> gps<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span>latitude<span class="token punctuation">,</span> lontitude<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">/**   * 火星坐标系 (GCJ-02) 与百度坐标系 (BD-09) 的转换算法 将 GCJ-02 坐标转换成 BD-09 坐标   *   * @param lat   * @param lon   */</span>  <span class="token keyword">static</span> List<span class="token operator">&lt;</span>num<span class="token operator">></span> <span class="token function">gcj02_To_Bd09</span><span class="token punctuation">(</span>num lat<span class="token punctuation">,</span> num lon<span class="token punctuation">)</span> <span class="token punctuation">{</span>    num x <span class="token operator">=</span> lon<span class="token punctuation">,</span> y <span class="token operator">=</span> lat<span class="token punctuation">;</span>    num z <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.00002</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>y <span class="token operator">*</span> x_pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    num theta <span class="token operator">=</span> <span class="token function">atan2</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.000003</span> <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>x <span class="token operator">*</span> x_pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    num tempLon <span class="token operator">=</span> z <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.0065</span><span class="token punctuation">;</span>    num tempLat <span class="token operator">=</span> z <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.006</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>num<span class="token operator">></span> gps <span class="token operator">=</span> <span class="token punctuation">[</span>tempLat<span class="token punctuation">,</span> tempLon<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> gps<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">/**   * * 火星坐标系 (GCJ-02) 与百度坐标系 (BD-09) 的转换算法 * * 将 BD-09 坐标转换成GCJ-02 坐标   * @param lat   * @param lon   * @return   */</span>  <span class="token keyword">static</span> List<span class="token operator">&lt;</span>num<span class="token operator">></span> <span class="token function">bd09_To_Gcj02</span><span class="token punctuation">(</span>num lat<span class="token punctuation">,</span> num lon<span class="token punctuation">)</span> <span class="token punctuation">{</span>    num x <span class="token operator">=</span> lon <span class="token operator">-</span> <span class="token number">0.0065</span><span class="token punctuation">,</span> y <span class="token operator">=</span> lat <span class="token operator">-</span> <span class="token number">0.006</span><span class="token punctuation">;</span>    num z <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.00002</span> <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>y <span class="token operator">*</span> x_pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    num theta <span class="token operator">=</span> <span class="token function">atan2</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.000003</span> <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>x <span class="token operator">*</span> x_pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    num tempLon <span class="token operator">=</span> z <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">;</span>    num tempLat <span class="token operator">=</span> z <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>num<span class="token operator">></span> gps <span class="token operator">=</span> <span class="token punctuation">[</span>tempLat<span class="token punctuation">,</span> tempLon<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> gps<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">/**   * 将gps84转为bd09   *   * @param lat   * @param lon   * @return   */</span>  <span class="token keyword">static</span> List<span class="token operator">&lt;</span>num<span class="token operator">></span> <span class="token function">gps84_To_bd09</span><span class="token punctuation">(</span>num lat<span class="token punctuation">,</span> num lon<span class="token punctuation">)</span> <span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>num<span class="token operator">></span> gcj02 <span class="token operator">=</span> <span class="token function">gps84_To_Gcj02</span><span class="token punctuation">(</span>lat<span class="token punctuation">,</span> lon<span class="token punctuation">)</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>num<span class="token operator">></span> bd09 <span class="token operator">=</span> <span class="token function">gcj02_To_Bd09</span><span class="token punctuation">(</span>gcj02<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gcj02<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> bd09<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">static</span> List<span class="token operator">&lt;</span>num<span class="token operator">></span> <span class="token function">bd09_To_gps84</span><span class="token punctuation">(</span>num lat<span class="token punctuation">,</span> num lon<span class="token punctuation">)</span> <span class="token punctuation">{</span>    List<span class="token operator">&lt;</span>num<span class="token operator">></span> gcj02 <span class="token operator">=</span> <span class="token function">bd09_To_Gcj02</span><span class="token punctuation">(</span>lat<span class="token punctuation">,</span> lon<span class="token punctuation">)</span><span class="token punctuation">;</span>    List<span class="token operator">&lt;</span>num<span class="token operator">></span> gps84 <span class="token operator">=</span> <span class="token function">gcj02_To_Gps84</span><span class="token punctuation">(</span>gcj02<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gcj02<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//保留小数点后六位</span>    gps84<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">retain6</span><span class="token punctuation">(</span>gps84<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    gps84<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">retain6</span><span class="token punctuation">(</span>gps84<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> gps84<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">/**   * 保留小数点后六位   *   * @param num   * @return   */</span>  <span class="token keyword">static</span> num <span class="token function">retain6</span><span class="token punctuation">(</span>num n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> num<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">toStringAsFixed</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx</title>
      <link href="2021/01/20/nginx-pei-zhi/"/>
      <url>2021/01/20/nginx-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="查看nginx配置"><a href="#查看nginx配置" class="headerlink" title="查看nginx配置"></a>查看nginx配置</h2><pre class=" language-bash"><code class="language-bash">  <span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> nginx可以查看到nginx的进程  /usr/sbin/nginx -t 查找主配置文件  <span class="token function">cat</span> /etc/nginx/nginx.conf 可用查找配置文件路径</code></pre><h2 id="nginx启动、重启、停止"><a href="#nginx启动、重启、停止" class="headerlink" title="nginx启动、重启、停止"></a>nginx启动、重启、停止</h2><pre class=" language-bash"><code class="language-bash">  <span class="token function">cd</span> /usr/local/nginx/sbin  ./nginx  // 启动  ./nginx -c /etc/nginx/nginx.conf 指定配置启动  ./nginx -s reload  // 重新加载配置文件  关闭  <span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> nginx  <span class="token function">kill</span> -9 nginx进程号</code></pre><h2 id="nginx配置代理"><a href="#nginx配置代理" class="headerlink" title="nginx配置代理"></a>nginx配置代理</h2><pre class=" language-bash"><code class="language-bash">  server: <span class="token punctuation">{</span>  ​    listen    8080<span class="token punctuation">;</span>    server_name localhost<span class="token punctuation">;</span>    \#charset koi8-r<span class="token punctuation">;</span>    \#access_log /var/log/nginx/host.access.log main<span class="token punctuation">;</span>    location / <span class="token punctuation">{</span>  ​    root  /app/train-platform/dist<span class="token punctuation">;</span>  ​    index index.html index.htm<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    location /web <span class="token punctuation">{</span>  ​    <span class="token function">alias</span> /app/train-platform-web/dist/<span class="token punctuation">;</span>  ​    index index.html index.htm<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span></code></pre><p><strong>注意点</strong>：<strong>根访问的配置候用root/alias 指向 ； 分支访问的配置要用alias 来指向 ；否则无法代理成功</strong></p>]]></content>
      
      
      <categories>
          
          <category> nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-quill-editor配置使用</title>
      <link href="2021/01/07/vuequilleditor-shi-yong/"/>
      <url>2021/01/07/vuequilleditor-shi-yong/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue-quill-editor-添加代码高亮及图片上传"><a href="#Vue-quill-editor-添加代码高亮及图片上传" class="headerlink" title="Vue-quill-editor 添加代码高亮及图片上传"></a>Vue-quill-editor 添加代码高亮及图片上传</h2><blockquote><p><strong>vue-quill-editor</strong> github地址：<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://github.com/surmon-china/vue-quill-editor">https://github.com/surmon-china/vue-quill-editor</a></p><p><strong>Highlight</strong>  github地址：<a target="_blank" rel="noopener" href="https://highlightjs.org/download/">https://highlightjs.org/download/</a></p></blockquote><h4 id="安装highlight-js"><a href="#安装highlight-js" class="headerlink" title="安装highlight.js"></a>安装highlight.js</h4><pre class=" language-bash"><code class="language-bash">  <span class="token function">npm</span> <span class="token function">install</span> highlight.js</code></pre><h4 id="配置高亮"><a href="#配置高亮" class="headerlink" title="配置高亮"></a>配置高亮</h4><ul><li><p>main.js中引入样式文件</p><pre class=" language-javascript"><code class="language-javascript">  <span class="token keyword">import</span> <span class="token string">'highlight.js/styles/monokai-sublime.css'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 代码高亮样式</span></code></pre></li><li><p>组件内配置高亮</p><pre class=" language-javascript"><code class="language-javascript">  <span class="token comment" spellcheck="true">// js</span>  <span class="token keyword">import</span> hljs <span class="token keyword">from</span> <span class="token string">'highlight.js'</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// data 数据部分</span>  editorOption<span class="token punctuation">:</span> <span class="token punctuation">{</span>    modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>       toolbar<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">[</span><span class="token string">"bold"</span><span class="token punctuation">,</span> <span class="token string">"italic"</span><span class="token punctuation">,</span> <span class="token string">"underline"</span><span class="token punctuation">,</span> <span class="token string">"strike"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token string">"blockquote"</span><span class="token punctuation">,</span> <span class="token string">"code-block"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> header<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> header<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> list<span class="token punctuation">:</span> <span class="token string">"ordered"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> list<span class="token punctuation">:</span> <span class="token string">"bullet"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> script<span class="token punctuation">:</span> <span class="token string">"sub"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> script<span class="token punctuation">:</span> <span class="token string">"super"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> indent<span class="token punctuation">:</span> <span class="token string">"-1"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> indent<span class="token punctuation">:</span> <span class="token string">"+1"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> direction<span class="token punctuation">:</span> <span class="token string">"rtl"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"small"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"large"</span><span class="token punctuation">,</span> <span class="token string">"huge"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> header<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> background<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token punctuation">{</span> font<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> align<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token punctuation">[</span><span class="token string">"clean"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"link"</span><span class="token punctuation">,</span> <span class="token string">"image"</span><span class="token punctuation">,</span> <span class="token string">"video"</span><span class="token punctuation">]</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>      syntax<span class="token punctuation">:</span> <span class="token punctuation">{</span>         highlight<span class="token punctuation">:</span> text <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>           <span class="token keyword">return</span> hljs<span class="token punctuation">.</span><span class="token function">highlightAuto</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这里就是代码高亮需要配置的地方 </span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span></code></pre><h4 id="配置图片上传"><a href="#配置图片上传" class="headerlink" title="配置图片上传"></a>配置图片上传</h4></li></ul><pre class=" language-javascript"><code class="language-javascript">  editorOption<span class="token punctuation">:</span> <span class="token punctuation">{</span>               <span class="token comment" spellcheck="true">//符文本编辑器的配置</span>    placeholder<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    theme<span class="token punctuation">:</span> <span class="token string">'snow'</span><span class="token punctuation">,</span>    modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>      toolbar<span class="token punctuation">:</span> <span class="token punctuation">{</span>        container<span class="token punctuation">:</span> <span class="token punctuation">[</span>             <span class="token comment" spellcheck="true">// 工具栏配置, 默认是全部</span>          <span class="token punctuation">[</span><span class="token string">"bold"</span><span class="token punctuation">,</span> <span class="token string">"italic"</span><span class="token punctuation">,</span> <span class="token string">"underline"</span><span class="token punctuation">,</span> <span class="token string">"strike"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token string">"blockquote"</span><span class="token punctuation">,</span> <span class="token string">"code-block"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> header<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> header<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> list<span class="token punctuation">:</span> <span class="token string">"ordered"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> list<span class="token punctuation">:</span> <span class="token string">"bullet"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> script<span class="token punctuation">:</span> <span class="token string">"sub"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> script<span class="token punctuation">:</span> <span class="token string">"super"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> indent<span class="token punctuation">:</span> <span class="token string">"-1"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> indent<span class="token punctuation">:</span> <span class="token string">"+1"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> direction<span class="token punctuation">:</span> <span class="token string">"rtl"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"small"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"large"</span><span class="token punctuation">,</span> <span class="token string">"huge"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> header<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> background<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token punctuation">{</span> font<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> align<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>           <span class="token punctuation">[</span><span class="token string">"clean"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"link"</span><span class="token punctuation">,</span> <span class="token string">"image"</span><span class="token punctuation">,</span> <span class="token string">"video"</span><span class="token punctuation">]</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        handlers<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">'image'</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment" spellcheck="true">// 给个点击触发input框选择图片文件</span>              document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#quill-upload'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>              <span class="token keyword">this</span><span class="token punctuation">.</span>quill<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      syntax<span class="token punctuation">:</span> <span class="token punctuation">{</span>         highlight<span class="token punctuation">:</span> text <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>           <span class="token keyword">return</span> hljs<span class="token punctuation">.</span><span class="token function">highlightAuto</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 这里就是代码高亮需要配置的地方 </span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span></code></pre><p>  可以创建一个隐藏的上传控件</p><pre class=" language-javascript"><code class="language-javascript">  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"file"</span> id<span class="token operator">=</span><span class="token string">"#quill-upload"</span> style<span class="token operator">=</span><span class="token string">"display: none"</span> @change<span class="token operator">=</span><span class="token string">"uploadImg"</span><span class="token operator">/</span><span class="token operator">></span>  </code></pre><p>  然后在配置的方法里配置状态栏点击图片时触发这个隐藏的上传控件来选择图片并自定义上传方法</p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置 </tag>
            
            <tag> vue </tag>
            
            <tag> vue-quill-editor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker记录</title>
      <link href="2020/12/03/docker-ji-lu/"/>
      <url>2020/12/03/docker-ji-lu/</url>
      
        <content type="html"><![CDATA[<h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><pre class=" language-bash"><code class="language-bash">  docker <span class="token function">ps</span> -a  查看docker容器  docker start 【containerId】运行容器  docker stop 【containerId】停止容器  docker <span class="token function">rm</span> 【containerId】删除容器  docker inspect 【containerId】查看容器详情  docker <span class="token function">exec</span> -it 【containerId】 /bin/bash 进入docker容器</code></pre><h2 id="问题记录"><a href="#问题记录" class="headerlink" title="问题记录"></a>问题记录</h2><h6 id="docker-进程提示：-Cannot-connect-to-the-Docker-daemon-at-unix-var-run-docker-sock-Is-the-docker-daemon-running"><a href="#docker-进程提示：-Cannot-connect-to-the-Docker-daemon-at-unix-var-run-docker-sock-Is-the-docker-daemon-running" class="headerlink" title="docker 进程提示： Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?"></a>docker 进程提示： Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?</h6><p><strong>解决方法</strong>：systemctl daemon-reload   // 重新加载配置服务文件</p><p>​                    systemctl restart docker.service   // 重启docker服务</p>]]></content>
      
      
      <categories>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>website</title>
      <link href="2020/10/11/website/"/>
      <url>2020/10/11/website/</url>
      
        <content type="html"><![CDATA[<h2 id="网站记录："><a href="#网站记录：" class="headerlink" title="网站记录："></a>网站记录：</h2><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/">https://leetcode-cn.com/</a>  面试题</p><p><a target="_blank" rel="noopener" href="https://fakeimg.pl/">https://fakeimg.pl/</a>   网络占位图</p><p><a target="_blank" rel="noopener" href="http://laomengit.com/">http://laomengit.com/</a>    老孟-flutter</p><p><a target="_blank" rel="noopener" href="https://github.com/biaochenxuying">https://github.com/biaochenxuying</a>   博客</p><p><a target="_blank" rel="noopener" href="https://www.freebytes.net/it/java/web-guacamole.html">https://www.freebytes.net/it/java/web-guacamole.html</a>   guacamole集成</p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhangycun/p/10138404.html">https://www.cnblogs.com/zhangycun/p/10138404.html</a>     eruda  移动端调试器</p><p><a target="_blank" rel="noopener" href="https://book.flutterchina.club/">https://book.flutterchina.club/</a>    flutter 中文文档</p><p><a target="_blank" rel="noopener" href="https://www.dazhuanlan.com/2020/01/29/5e31407cbfe77/">https://www.dazhuanlan.com/2020/01/29/5e31407cbfe77/</a>    socket.io  房间</p><p><a target="_blank" rel="noopener" href="https://docs.agora.io/cn/Voice/landing-page?platform=Android">https://docs.agora.io/cn/Voice/landing-page?platform=Android</a>   语音视频直播sdk</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44489222/article/details/110116277?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control">https://blog.csdn.net/weixin_44489222/article/details/110116277?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.control</a>     vue-socket.io踩坑</p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dreamsqin/p/12018866.html">https://www.cnblogs.com/dreamsqin/p/12018866.html</a>   vue-socket.io 详解</p>]]></content>
      
      
      <categories>
          
          <category> website </category>
          
      </categories>
      
      
        <tags>
            
            <tag> website </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git命令</title>
      <link href="2020/09/14/git-ming-ling-ji-lu/"/>
      <url>2020/09/14/git-ming-ling-ji-lu/</url>
      
        <content type="html"><![CDATA[<h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><pre class=" language-javascript"><code class="language-javascript">  git init                    <span class="token comment" spellcheck="true">// 初始化git</span>  git clone <span class="token operator">&lt;</span>url<span class="token operator">></span>             <span class="token comment" spellcheck="true">// 克隆仓库</span>  git status                  <span class="token comment" spellcheck="true">// 查看状态</span>  git branch <span class="token operator">-</span>a               <span class="token comment" spellcheck="true">// 查看本地所有分支</span>  git checkout <span class="token punctuation">[</span>分支名<span class="token punctuation">]</span>       <span class="token comment" spellcheck="true">// 切换分支</span>  git checkout <span class="token operator">-</span>b <span class="token punctuation">[</span>分支名<span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">// 创建并切换到分支</span>  git ls <span class="token operator">-</span>files               <span class="token comment" spellcheck="true">// 查看已经提交</span>  git log                     <span class="token comment" spellcheck="true">// 查看提交记录</span>  git stash push              <span class="token comment" spellcheck="true">//将文件push到临时空间</span>  git stash pop               <span class="token comment" spellcheck="true">// 将文件从临时空间拉取下来</span>  git reset <span class="token operator">--</span>hard <span class="token punctuation">[</span>commit<span class="token punctuation">]</span>   <span class="token comment" spellcheck="true">// 回退到指定提交同时清空暂缓区</span>  git revert <span class="token operator">&lt;</span>commit<span class="token operator">></span>          <span class="token comment" spellcheck="true">// 撤销指定的提交</span>  git rebase master           <span class="token comment" spellcheck="true">// 更新master到分支上</span>  git fetch origin             <span class="token comment" spellcheck="true">// 更新远程仓库到本地</span></code></pre><h6 id="一：上传一个本地的独立分支"><a href="#一：上传一个本地的独立分支" class="headerlink" title="一：上传一个本地的独立分支"></a>一：上传一个本地的独立分支</h6><p>1、git init （初始化环境，生成.git环境）<br>2、git add . （讲文件添加暂存区）<br>3、git commit -m “描述信息” （提交暂存区文件）<br>4、git branch 分支名称 （创建本地分支）<br>5、git checkout 分支名称 （切换到本地分支）<br>6、git remote add origin 远程仓库地址 （关联远程仓库）<br>7、git push origin 分支名 （推送本地分支到远程仓库）</p><h6 id="二：上传本地仓库到远程仓库指定分支"><a href="#二：上传本地仓库到远程仓库指定分支" class="headerlink" title="二：上传本地仓库到远程仓库指定分支"></a>二：上传本地仓库到远程仓库指定分支</h6><p>1、创建本地文件夹，并在次文件夹处打开Git Bash<br>2、git init （初始化环境，生成.git环境）<br>3、git remote add origin 远程仓库地址 （连接远程仓库）<br>4、git pull origin 远程仓库分支名 （拉取远程仓库指定分支）<br>5、git checkout –track origin/远程仓库分支名 （追踪远程仓库分支，与本地仓库建立联系）<br>6、在本地仓库中添加文件或修改文件<br>7、git add . (讲文件添加暂存区)<br>8、git commit -m ‘描述信息’ （提交暂存区文件）<br>9、git push origin 远程仓库分支名 (推送到远程仓库指定分支)</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nvm安装</title>
      <link href="2020/09/09/nvm-an-zhuang/"/>
      <url>2020/09/09/nvm-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h2 id="Windows安装包安装nvm"><a href="#Windows安装包安装nvm" class="headerlink" title="Windows安装包安装nvm"></a>Windows安装包安装nvm</h2><p>  <a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows/releases">https://github.com/coreybutler/nvm-windows/releases</a> 下载需要版本进行安装</p><h2 id="mac安装nvm"><a href="#mac安装nvm" class="headerlink" title="mac安装nvm"></a>mac安装nvm</h2><blockquote><p>github地址： <a target="_blank" rel="noopener" href="https://github.com/nvm-sh/nvm">https://github.com/nvm-sh/nvm</a></p></blockquote><p>  根据文档运行以下命令：</p><pre class=" language-bash"><code class="language-bash">  curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh <span class="token operator">|</span> <span class="token function">bash</span>  <span class="token function">wget</span> -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh <span class="token operator">|</span> <span class="token function">bash</span></code></pre><p>  会被墙，不太行，推荐使用git下载</p><pre><code>1. `cd ~/` (任意一个存储位置) 2. `git clone https://github.com/nvm-sh/nvm.git .nvm`  git拉取nvm整个仓库3. `cd ~/.nvm`4. `git checkout v0.38.0`  最新版是0.38.0，也可以切换其他版本5. 在clone的目录下运行`. ./nvm.sh` 6. .bashrc或者.zshrc中配置环境  ```    export NVM_DIR="$HOME/.nvm"    [ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh"  # This loads nvm  ```7. 运行 `source ~/.bashrc 或者 source ~/.zshrc ` 重新加载配置文件</code></pre><h2 id="nvm基本命令"><a href="#nvm基本命令" class="headerlink" title="nvm基本命令"></a>nvm基本命令</h2><pre class=" language-bash"><code class="language-bash">  nvm list                    //查看nvm安装的node  nvm list available          //显示可以安装的所有node.js的版本  nvm use <span class="token operator">&lt;</span>version<span class="token operator">></span>           //切换到使用指定的nodejs版本  nvm <span class="token function">install</span> <span class="token operator">&lt;</span>version<span class="token operator">></span>       //安装node.js的命名 version是版本号 例如：nvm <span class="token function">install</span> 8.12.0  nvm uninstall <span class="token operator">&lt;</span>version<span class="token operator">></span>     //卸载node.js是的命令，卸载指定版本的nodejs，当安装失败时卸载使用  nvm version                 //查看当前的版本</code></pre>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node </tag>
            
            <tag> nvm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo介绍</title>
      <link href="2020/09/07/hexo-ji-ben-ming-ling/"/>
      <url>2020/09/07/hexo-ji-ben-ming-ling/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
